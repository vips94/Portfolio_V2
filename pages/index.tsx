"use client";
import Head from "next/head";
import styles from "@/styles/Home.module.scss";
import NavBar from "@/components/page-nav-bar";
import HomePage from "@/components/page-home";
import React, { useEffect, useRef } from "react";
import Blob from "@/components/blob";
import Skills from "@/components/page-skillsV2";
import Divider from "@/components/divider";
import Thread from "@/components/thread";
import Projects from "@/components/page-projects";
import Popup from "@/components/popup";
import { useSelector } from "react-redux";
import { selectIsProjectSelected } from "@/store/project";
import ContactUs from "@/components/page-contact-us/index";
import Footer from "@/components/footer";
import ThemeOverlay from "@/components/page-overlay";

export default function Home() {
  const isProjectSelected = useSelector(selectIsProjectSelected)
 
  useEffect(() => {
    (async () => {
      //to smooth the scrolling 
      const LocomotiveScroll = (await import("locomotive-scroll")).default;
      const locomotiveScroll = new LocomotiveScroll();
    })();
  }, []);

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className={`${styles.main}`} id="main">
        <Thread style={{zIndex: 3,  right:'2%'}} color="#e8ccc7" threadWidth={1}/>
        <Blob style={{transform: 'translate(-45%,65%)', bottom:'0', left:'0', zIndex: '2'}} image='/images/home/home-fg4.jpg'/>
        <ThemeOverlay/>
        <Divider color="white" position="calc(90vh - 200px + 45px)"/> 
        {/* <NavBar /> */}
        <HomePage />
        <Skills/>
        <Projects/>
        <ContactUs/>
        <Divider position="calc(380vh - 200px + 45px)"/> 
        <Footer/>
        {isProjectSelected &&  <Popup/>}
      </main>
    </>
  );
}
